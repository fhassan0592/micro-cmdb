webpackJsonp([1],{"6bkB":function(t,e){},ANpU:function(t,e){},KNUQ:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),n={data:function(){return{reportToggle:!1}},computed:{getToken:function(){return this.$store.getters.getToken}},methods:{toAdd:function(){this.$router.push("/add")},toReports:function(){this.reportToggle=!this.reportToggle,H.$emit("reportToggle",this.reportToggle)},logout:function(){this.$store.dispatch("logout"),this.$router.replace("/")}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[t.getToken?s("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),t.toAdd(e)}}},[t._m(2)]):t._e(),t._v(" "),t.getToken?s("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),t.toReports(e)}}},[t._m(3)]):t._e()]),t._v(" "),s("ul",{staticClass:"navbar-nav"},[t.getToken?t._e():s("li",{staticClass:"nav-item"},[t._m(4)]),t._v(" "),t.getToken?t._e():s("li",{staticClass:"nav-item"},[t._m(5)]),t._v(" "),t.getToken?s("li",{staticClass:"nav-item"},[s("button",{staticClass:"nav-link btn btn-outline-default",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[s("i",{staticClass:"fas fa-sign-out-alt mr-2"}),t._v("Logout")])]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"navbar-brand",attrs:{href:"/home"}},[e("img",{staticClass:"img-responsive mr-1",attrs:{src:s("wyKW"),width:"30px",height:"30px"}}),this._v("\n    microCMDB\n  ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-plus mr-2"}),this._v("Add Host")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"#"}},[e("i",{staticClass:"fas fa-poll mr-2"}),this._v("Toggle Reporting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"/login"}},[e("i",{staticClass:"fas fa-lock mr-2"}),this._v("Login")])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"/signup"}},[e("i",{staticClass:"fas fa-user-plus mr-2"}),this._v("Signup")])}]};var r={components:{"app-navbar":s("VU/8")(n,a,!1,function(t){s("fA5F")},null,null).exports},name:"App"},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-navbar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=s("VU/8")(r,i,!1,function(t){s("bzb2")},null,null).exports,l=s("/ocq"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"jumbotron"},[s("h1",{staticClass:"display-5"},[t._v("microCMDB")]),t._v(" "),s("p",[t._v("A simple CRUD app to serve as a configuration manager for the monitoring system")]),t._v(" "),s("hr",{staticClass:"my-4"}),t._v(" "),s("button",{staticClass:"btn btn-outline-dark",on:{click:function(e){return e.preventDefault(),t.toSignup(e)}}},[t._v("SIGNUP  "),s("i",{staticClass:"fa fa-arrow-up"})]),t._v(" "),s("button",{staticClass:"btn btn-dark",on:{click:function(e){return e.preventDefault(),t.toLogin(e)}}},[t._v("LOGIN  "),s("i",{staticClass:"fa fa-arrow-right"})])])])},staticRenderFns:[]};var d=s("VU/8")({methods:{toLogin:function(){this.$router.push("/login")},toSignup:function(){this.$router.push("/signup")}}},u,!1,function(t){s("eJVv")},"data-v-36e2d24e",null).exports,v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"col-lg-6 offset-3"},[s("h3",[t._v("Login")]),t._v(" "),s("small",[t._v("If you were redirected here after signing up, your account was successfully created. Please log in.")]),t._v(" "),s("hr"),t._v(" "),t.err?s("div",{staticClass:"alert alert-danger"},[t._v("\n                "+t._s(t.err)+"\n            ")]):t._e(),t._v(" "),s("form",[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.onLogin(e)}}},[t._v("Log in")]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary ml-2",on:{click:function(e){return e.preventDefault(),t.onCancel(e)}}},[t._v("Cancel")])])])])])},staticRenderFns:[]};var p=s("VU/8")({data:function(){return{username:"",password:"",err:""}},methods:{onLogin:function(){var t=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then(function(e){return t.$router.push("/home")}).catch(function(e){return t.err=e.response.data.message})},onCancel:function(){this.$router.push("/")}}},v,!1,function(t){s("ANpU")},null,null).exports,m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"container"},[s("div",{staticClass:"col-lg-6 offset-3"},[s("h3",[t._v("Signup")]),t._v(" "),s("hr"),t._v(" "),t.err?s("div",{staticClass:"alert alert-danger"},[t._v("\n                "+t._s(t.err)+"\n            ")]):t._e(),t._v(" "),s("form",[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Enter password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.onSignup(e)}}},[t._v("Signup")]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary ml-2",on:{click:function(e){return e.preventDefault(),t.onCancel(e)}}},[t._v("Cancel")])])])])])},staticRenderFns:[]};var h=s("VU/8")({data:function(){return{username:"",password:"",err:""}},methods:{onSignup:function(){var t=this;this.$store.dispatch("signup",{username:this.username,password:this.password}).then(function(e){return t.$router.push("/login")}).catch(function(e){return t.err=e.response.data.message})},onCancel:function(){this.$router.push("/")}}},m,!1,function(t){s("dpZU")},null,null).exports,f={created:function(){var t=this;this.$store.dispatch("fetchHosts").then(function(e){return t.hosts=e.data.data.hosts}).catch(function(e){return t.err=e}),H.$on("reportToggle",function(e){return t.reportToggle=e})},data:function(){return{keyword:"",hosts:"",err:"",reportToggle:!1}},computed:{getHosts:function(){var t=this;return this.$store.getters.getHosts.filter(function(e){return e.hostname.toLowerCase().includes(t.keyword.toLowerCase())||e.ipAddress.includes(t.keyword)})}},methods:{onEdit:function(t){this.$router.push("/edit/"+t)},onDelete:function(t){var e=this;this.$store.dispatch("deleteHost",{id:t}).then(function(t){t.data.success?e.$router.go():e.err=err.response.message}).catch(function(t){return e.err=t.response.message})},onFilter:function(t){if("server"!=t)if("network"!=t)if("location"!=t){if("reset"==t){var e=this.hosts;this.$store.commit("setHosts",e)}}else{var s=this.hosts.sort(function(t,e){return t.location>e.location?1:e.location>t.location?-1:0});this.$store.commit("setHosts",s)}else{var o=this.hosts.filter(function(t){return"network"==t.deviceType.toLowerCase()});this.$store.commit("setHosts",o)}else{var n=this.hosts.filter(function(t){return"server"==t.deviceType.toLowerCase()});this.$store.commit("setHosts",n)}}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("h2",[t._v("Hosts\n            "),s("small",{staticClass:"ml-1 text-muted"},[t._v("("+t._s(t.getHosts.length)+")")]),t._v(" "),t.reportToggle?s("div",{staticClass:"dropdown ml-3 float-right"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle mb-4",attrs:{type:"button","data-toggle":"dropdown"}},[t._v("\n                    Choose a Report\n                ")]),t._v(" "),s("div",{staticClass:"dropdown-menu"},[s("button",{staticClass:"dropdown-item",on:{click:function(e){return e.preventDefault(),t.onFilter("location")}}},[t._v("Hosts By Location")]),t._v(" "),s("button",{staticClass:"dropdown-item",on:{click:function(e){return e.preventDefault(),t.onFilter("server")}}},[t._v("All Server Hosts")]),t._v(" "),s("button",{staticClass:"dropdown-item",on:{click:function(e){return e.preventDefault(),t.onFilter("network")}}},[t._v("All Network Hosts")]),t._v(" "),s("button",{staticClass:"dropdown-item text-danger",on:{click:function(e){return e.preventDefault(),t.onFilter("reset")}}},[t._v("Reset")])])]):s("button",{staticClass:"btn btn-warning ml-3 float-right",attrs:{"data-toggle":"modal","data-target":"#syncInfoModal"}},[t._v("\n                Synchronize Configuration\n            ")]),t._v(" "),s("div",{staticClass:"form-inline float-right",staticStyle:{"margin-right":"60px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control mr-3",staticStyle:{"min-width":"130%"},attrs:{type:"text",placeholder:"Search by hostname / IP address"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),s("hr"),t._v(" "),t.getHosts.length>0?s("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),s("tbody",t._l(t.getHosts,function(e){return s("tr",{key:e._id},[s("th",{attrs:{scope:"row"}},[t._v(t._s(e._id.substr(-7)))]),t._v(" "),s("td",[t._v(t._s(e.hostname))]),t._v(" "),s("td",[t._v(t._s(e.ipAddress))]),t._v(" "),s("td",[t._v(t._s(e.deviceType))]),t._v(" "),s("td",[t._v(t._s(e.operatingSystem||"N/A"))]),t._v(" "),s("td",[t._v(t._s(e.snmpString||"N/A"))]),t._v(" "),s("td",[t._v(t._s(e.location))]),t._v(" "),s("td",[t._v(t._s(e.contact))]),t._v(" "),s("td",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-info btn-sm",on:{click:function(s){return s.preventDefault(),t.onEdit(e._id)}}},[s("i",{staticClass:"fa fa-edit"})]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(s){return s.preventDefault(),t.onDelete(e._id)}}},[s("i",{staticClass:"fa fa-trash"})])])])}),0)]):s("h5",{staticClass:"text-center text-muted"},[t._v("No hosts available. "),s("a",{attrs:{href:"/add"}},[t._v("Add one")]),t._v(". Or, your search may have returned 0 results.")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade",attrs:{id:"syncInfoModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"fa fa-info-circle mr-2"}),this._v("Synchronization\n                        ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])]),this._v(" "),e("div",{staticClass:"modal-body"},[e("p",[this._v("If executed in a production environment, this button click will synchronize the updated configuration with the monitoring configuration\n                         repository.")])]),this._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Hostname")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("IP Address")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Device Type")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Operating System")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("SNMP String")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Location")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Contact")]),t._v(" "),s("th",[t._v("Edit / Delete")])])])}]};var _=s("VU/8")(f,g,!1,function(t){s("KNUQ")},"data-v-998233e8",null).exports,C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"col-lg-8 offset-lg-2"},[s("div",{staticClass:"content"},[s("h2",[t._v("Add Host")]),t._v(" "),s("hr"),t._v(" "),t.err?s("div",{staticClass:"alert alert-danger"},[t._v("\n          "+t._s(t.err)+"\n      ")]):t._e(),t._v(" "),s("form",[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("Hostname")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.hostname,expression:"host.hostname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"MS-FW-01"},domProps:{value:t.host.hostname},on:{input:function(e){e.target.composing||t.$set(t.host,"hostname",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("IP Address")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.ipAddress,expression:"host.ipAddress"}],staticClass:"form-control",attrs:{type:"text",placeholder:"192.168.0.10"},domProps:{value:t.host.ipAddress},on:{input:function(e){e.target.composing||t.$set(t.host,"ipAddress",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("Device Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.host.deviceType,expression:"host.deviceType"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.host,"deviceType",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"",value:""}},[t._v("Choose...")]),t._v(" "),s("option",{attrs:{value:"server"}},[t._v("Server")]),t._v(" "),s("option",{attrs:{value:"network"}},[t._v("Network")])])])]),t._v(" "),s("div",{staticClass:"form-row"},["server"==t.host.deviceType?s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Operating System")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.operatingSystem,expression:"host.operatingSystem"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Microsoft Server 2012 R2"},domProps:{value:t.host.operatingSystem},on:{input:function(e){e.target.composing||t.$set(t.host,"operatingSystem",e.target.value)}}})]):t._e(),t._v(" "),"network"==t.host.deviceType?s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("SNMP String")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.snmpString,expression:"host.snmpString"}],staticClass:"form-control",attrs:{type:"text",placeholder:"MS-SNMP-RO"},domProps:{value:t.host.snmpString},on:{input:function(e){e.target.composing||t.$set(t.host,"snmpString",e.target.value)}}})]):t._e()]),t._v(" "),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-6"},[s("label",[t._v("Location")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.location,expression:"host.location"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Primary Datacenter"},domProps:{value:t.host.location},on:{input:function(e){e.target.composing||t.$set(t.host,"location",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-6"},[s("label",[t._v("Contact")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.contact,expression:"host.contact"}],staticClass:"form-control",attrs:{type:"text",placeholder:"it_team@companyemail.com"},domProps:{value:t.host.contact},on:{input:function(e){e.target.composing||t.$set(t.host,"contact",e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-primary mr-2",on:{click:function(e){return e.preventDefault(),t.onAdd(e)}}},[t._v("Submit")]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return e.preventDefault(),t.onCancel(e)}}},[t._v("Cancel")])])])])])},staticRenderFns:[]};var b=s("VU/8")({data:function(){return{host:{hostname:"",ipAddress:"",deviceType:"",operatingSystem:null,snmpString:null,location:"",contact:""},err:""}},methods:{onAdd:function(){var t=this;if(this.host.hostname&&this.host.ipAddress&&this.host.deviceType&&this.host.location&&this.host.contact){if("server"==this.host.deviceType){if(!this.host.operatingSystem)return void(this.err="All fields are required")}else if("network"==this.host.deviceType&&!this.host.snmpString)return void(this.err="All fields are required");this.$store.dispatch("addHost",{host:this.host}).then(function(e){e.data.success?t.$router.push("/home"):t.err=e.data.message}).catch(function(e){return t.err=e.response.data.message})}else this.err="All fields are required"},onCancel:function(){this.$router.go(-1)}}},C,!1,function(t){s("rP86")},"data-v-2c3facb4",null).exports,y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"col-lg-8 offset-lg-2"},[s("div",{staticClass:"content"},[s("h2",[t._v("Edit Host")]),t._v(" "),s("hr"),t._v(" "),t.err?s("div",{staticClass:"alert alert-danger"},[t._v("\n          "+t._s(t.err)+"\n      ")]):t._e(),t._v(" "),s("form",[s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("Hostname")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.hostname,expression:"host.hostname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"MS-FW-01",value:"host.hostname"},domProps:{value:t.host.hostname},on:{input:function(e){e.target.composing||t.$set(t.host,"hostname",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("IP Address")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.ipAddress,expression:"host.ipAddress"}],staticClass:"form-control",attrs:{type:"text",placeholder:"192.168.0.10",value:"host.ipAddress"},domProps:{value:t.host.ipAddress},on:{input:function(e){e.target.composing||t.$set(t.host,"ipAddress",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-4"},[s("label",[t._v("Device Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.host.deviceType,expression:"host.deviceType"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.host,"deviceType",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"server"}},[t._v("Server")]),t._v(" "),s("option",{attrs:{value:"network"}},[t._v("Network")])])])]),t._v(" "),s("div",{staticClass:"form-row"},["server"==t.host.deviceType?s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("Operating System")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.operatingSystem,expression:"host.operatingSystem"}],staticClass:"form-control",attrs:{type:"text",value:"host.operatingSystem",placeholder:"Microsoft Server 2012 R2"},domProps:{value:t.host.operatingSystem},on:{input:function(e){e.target.composing||t.$set(t.host,"operatingSystem",e.target.value)}}})]):t._e(),t._v(" "),"network"==t.host.deviceType?s("div",{staticClass:"form-group col-md-12"},[s("label",[t._v("SNMP String")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.snmpString,expression:"host.snmpString"}],staticClass:"form-control",attrs:{type:"text",value:"host.snmpString",placeholder:"MS-SNMP-RO"},domProps:{value:t.host.snmpString},on:{input:function(e){e.target.composing||t.$set(t.host,"snmpString",e.target.value)}}})]):t._e()]),t._v(" "),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-6"},[s("label",[t._v("Location")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.location,expression:"host.location"}],staticClass:"form-control",attrs:{type:"text",value:"host.location",placeholder:"Primary Datacenter"},domProps:{value:t.host.location},on:{input:function(e){e.target.composing||t.$set(t.host,"location",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group col-md-6"},[s("label",[t._v("Contact")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.host.contact,expression:"host.contact"}],staticClass:"form-control",attrs:{type:"text",value:"host.contact",placeholder:"it_team@companyemail.com"},domProps:{value:t.host.contact},on:{input:function(e){e.target.composing||t.$set(t.host,"contact",e.target.value)}}})])]),t._v(" "),s("button",{staticClass:"btn btn-primary mr-2",on:{click:function(e){return e.preventDefault(),t.onEdit(e)}}},[t._v("Submit")]),t._v(" "),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return e.preventDefault(),t.onCancel(e)}}},[t._v("Cancel")])])])])])},staticRenderFns:[]};var w=s("VU/8")({created:function(){var t=this;this.id=this.$route.params.id,this.$store.dispatch("fetchHost",{id:this.id}).then(function(e){return t.host=e.data.data.host}).catch(function(e){return t.err=e.response.data.message})},data:function(){return{id:"",host:{hostname:"",ipAddress:"",deviceType:"",operatingSystem:null,snmpString:null,location:"",contact:""},err:""}},methods:{onEdit:function(){var t=this;if(this.host.hostname&&this.host.ipAddress&&this.host.deviceType&&this.host.location&&this.host.contact){if("server"==this.host.deviceType){if(!this.host.operatingSystem)return void(this.err="All fields are required")}else if("network"==this.host.deviceType&&!this.host.snmpString)return void(this.err="All fields are required");this.$store.dispatch("updateHost",{host:this.host,id:this.id}).then(function(e){e.data.success?t.$router.push("/home"):t.err=e.data.message}).catch(function(e){return t.err=e.response.data.message})}else this.err="All fields are required"},onCancel:function(){this.$router.go(-1)}}},y,!1,function(t){s("6bkB")},"data-v-93eddf50",null).exports,k=s("//Fk"),S=s.n(k),$=s("NYxO"),T=s("mtWM"),x=s.n(T).a.create({baseURL:"http://localhost:3000/api/v1"});o.a.use($.a);var A=new $.a.Store({state:{hosts:[],token:"",host:""},getters:{getHosts:function(t){return t.hosts},getHost:function(t){return t.host},getToken:function(t){return t.token}},mutations:{setHosts:function(t,e){t.hosts=e},setHost:function(t,e){t.host=e},setToken:function(t,e){t.token=e}},actions:{loadToken:function(t){var e=t.commit;return new S.a(function(t,s){var o=localStorage.getItem("token");o?(e("setToken",o),t()):s()})},login:function(t,e){var s=t.commit;return new S.a(function(t,o){(function(t){return x.post("/users/login",t)})(e).then(function(e){s("setToken",e.data.data.token),localStorage.setItem("token",e.data.data.token),t()}).catch(function(t){o(t)})})},logout:function(t){var e=t.commit;localStorage.clear(),e("setToken","")},signup:function(t,e){t.commit;return new S.a(function(t,s){(function(t){return x.post("/users/signup",t)})(e).then(function(e){e.data.success?t():s(e.data.message)}).catch(function(t){s(t)})})},addHost:function(t,e){var s=t.getters;return new S.a(function(t,o){var n,a;(n=s.getToken,a=e.host,x.post("/hosts/create",a,{headers:{Authorization:"Bearer "+n}})).then(function(e){return t(e)}).catch(function(t){return o(t)})})},updateHost:function(t,e){var s=t.getters;return new S.a(function(t,o){var n,a,r;(n=s.getToken,a=e.host,r=e.id,x.put("/hosts/update/"+r,a,{headers:{Authorization:"Bearer "+n}})).then(function(e){return t(e)}).catch(function(t){return o(t)})})},fetchHosts:function(t){var e=t.commit,s=t.getters;return new S.a(function(t,o){var n;(n=s.getToken,x.get("/hosts/get/all",{headers:{Authorization:"Bearer "+n}})).then(function(s){e("setHosts",s.data.data.hosts),t(s)}).catch(function(t){return o(t)})})},deleteHost:function(t,e){var s=t.getters;return new S.a(function(t,o){var n,a;(n=s.getToken,a=e.id,x.delete("/hosts/delete/"+a,{headers:{Authorization:"Bearer "+n}})).then(function(e){return t(e)}).catch(function(t){return o(t)})})},fetchHost:function(t,e){var s=t.getters;return new S.a(function(t,o){var n,a;(n=s.getToken,a=e.id,x.get("/hosts/get/"+a,{headers:{Authorization:"Bearer "+n}})).then(function(e){return t(e)}).catch(function(t){return o(t)})})}}});o.a.use(l.a);var N=new l.a({routes:[{path:"/",component:d},{path:"/login",component:p},{path:"/signup",component:h},{path:"/home",component:_,beforeEnter:function(t,e,s){A.dispatch("loadToken").then(function(){return s()}).catch(function(t){return s("/")})}},{path:"/add",component:b,beforeEnter:function(t,e,s){A.dispatch("loadToken").then(function(){return s()}).catch(function(t){return s("/")})}},{path:"/edit/:id",component:w,beforeEnter:function(t,e,s){A.dispatch("loadToken").then(function(){return s()}).catch(function(t){return s("/")})}}],mode:"history"});s.d(e,"EventBus",function(){return H}),o.a.config.productionTip=!1;var H=new o.a;new o.a({el:"#app",router:N,store:A,components:{App:c},template:"<App/>"})},bzb2:function(t,e){},dpZU:function(t,e){},eJVv:function(t,e){},fA5F:function(t,e){},rP86:function(t,e){},wyKW:function(t,e,s){t.exports=s.p+"static/img/gears.4032941.svg"}},["NHnr"]);
//# sourceMappingURL=app.368541f17855c4b7c13b.js.map